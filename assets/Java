document.getElementById('formCadastro').addEventListener('submit', function(event) {
    event.preventDefault(); // Impede o envio real do formulário

    const nome = document.getElementById('nome').value;
    const email = document.getElementById('email').value;
    const telefone = document.getElementById('telefone').value;
    const senha = document.getElementById('senha').value;
    const endereco = document.getElementById('endereco').value;
    const cep = document.getElementById('cep').value;

    // Validação simples (todos os campos devem estar preenchidos)
    if (nome && email && telefone && senha && endereco && cep) {
        const dados = {
            nome: nome,
            email: email,
            telefone: telefone,
            senha: senha,
            endereco: endereco,
            cep: cep
        };

        // Envia os dados para o PHP via POST usando Fetch
        fetch('envia-dados.php', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded'
            },
            body: new URLSearchParams(dados)
        })
        .then(response => response.text())  // Recebe a resposta do PHP como texto
        .then(data => {
            // Exibe a resposta do servidor (mensagem de sucesso ou erro)
            document.getElementById('mensagem').innerHTML = data;
            // Se o cadastro foi bem-sucedido, limpa o formulário
            if (data.includes('Cadastro realizado com sucesso')) {
                document.getElementById('formCadastro').reset();
            }
        })
        .catch((error) => {
            console.error('Erro:', error);
            document.getElementById('mensagem').innerHTML = '<p class="error">Erro ao realizar cadastro. Tente novamente.</p>';
        });
    } else {
        document.getElementById('mensagem').innerHTML = '<p class="error">Por favor, preencha todos os campos.</p>';
    }
});

    const nome = document.getElementById('nome').value;
    const email = document.getElementById('email').value;
    const telefone = document.getElementById('telefone').value;
    const senha = document.getElementById('senha').value;
    const endereco = document.getElementById('endereco').value;
    const cep = document.getElementById('cep').value;

    const mensagemDiv = document.getElementById('mensagem');
   
    // Validação simples
    if (nome && email && telefone && senha && endereco && cep) {
        mensagemDiv.innerHTML = `<p class="success">Cadastro realizado com sucesso! Bem-vindo, ${nome}!</p>`;
        document.getElementById('formCadastro').reset(); // Limpa o formulário após o envio
    } else {
        mensagemDiv.innerHTML = `<p class="error">Por favor, preencha todos os campos.</p>`;
    }
});
